{"version":3,"file":"static/js/911.0adc0559.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/Movies/Movies.module.css?d262","Pages/Movies/Movies.jsx","api/index.js","components/MovieList/MovieList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Movies_section__+GVFD\",\"input\":\"Movies_input__mpzwV\",\"button\":\"Movies_button__sRc5b\"};","import { searchMovie } from 'api';\nimport { useEffect, useState } from 'react';\nimport styles from './Movies.module.css';\nimport MovieList from 'components/MovieList/MovieList';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [result, setResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const search = searchParams.get('query') || '';\n\n  useEffect(() => {\n    search &&\n      searchMovie(search).then(res => {\n        setResult(res);\n      });\n  }, [search]);\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    query.length > 0 && setSearchParams({ query: query });\n  };\n\n  return (\n    <section className={styles.section}>\n      <form onSubmit={handleSubmit}>\n        <input className={styles.input} onChange={handleChange} />\n        <button className={styles.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n      <div>{result.length ? <MovieList movies={result} /> : null}</div>\n    </section>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = 'da789e4046025628314fd46c966ce59e';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: KEY };\n\nexport const getMovies = async () => {\n  let movies = await axios\n    .get('/trending/movie/day')\n    .then(({ data }) => {\n      return data.results;\n    })\n    .catch(err => console.log(err));\n\n  return movies;\n};\n\nexport const getMovie = async id => {\n  let movie = await axios\n    .get(`/movie/${id}`)\n    .then(({ data }) => {\n      return data;\n    })\n    .catch(err => console.log(err));\n  return movie;\n};\nexport const getMovieCredits = async id => {\n  const credits = await axios\n    .get(`/movie/${id}/credits`)\n    .then(({ data }) => {\n      return data.cast;\n    })\n    .catch(err => console.log(err));\n  return credits;\n};\n\nexport const getMovieReviews = async id => {\n  const reviews = await axios\n    .get(`/movie/${id}/reviews`)\n    .then(({ data }) => {\n      return data.results;\n    })\n    .catch(err => console.log(err));\n  return reviews;\n};\n\nexport const searchMovie = async search => {\n  const movie = await axios\n    .get(`/search/movie?query=${search}`)\n    .then(({ data }) => {\n      return data.results;\n    })\n    .catch(err => console.log(err));\n  return movie;\n};\n","import { Link, useLocation } from 'react-router-dom';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(({ id, original_title }) => {\n        return (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {original_title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\nexport default MovieList;\n"],"names":["_useState","useState","_useState2","_slicedToArray","result","setResult","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState3","get","_useState4","query","setQuery","search","useEffect","searchMovie","then","res","_jsxs","className","styles","children","onSubmit","e","preventDefault","length","_jsx","onChange","target","value","type","MovieList","movies","axios","api_key","getMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","_ref2","data","results","catch","err","console","log","sent","abrupt","stop","apply","arguments","getMovie","_ref3","_callee2","id","movie","_context2","concat","_ref4","_x","getMovieCredits","_ref5","_callee3","credits","_context3","_ref6","cast","_x2","getMovieReviews","_ref7","_callee4","reviews","_context4","_ref8","_x3","_ref9","_callee5","_context5","_ref10","_x4","location","useLocation","map","original_title","Link","to","state","from"],"sourceRoot":""}